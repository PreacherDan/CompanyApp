@model CompanyApp.ViewModels.DepartmentDetailsViewModel
@{
    ViewData["Title"] = $"{Model.Department.Name} - Department Details";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h1>@string.Format("{0} - Department Details", Model.Department.Name)</h1><br />

<ul>
    <li>Yearly Budget: @Model.Department.BudgetYearly</li>
    <li>Location: @Model.Department.Location</li>
</ul>
<br />

@Html.ActionLink("Edit Department Details", "EditDepartment", "Employees", new { id = Model.Department.ID }, null)<br /><br />

<h3>Employees:</h3>
<br />

<ul>
    @if(Model.Employees.Any())
    {
        @foreach(var emp in Model.Employees)
        {
         <li>
             @Html.ActionLink($"{emp.Name} {emp.Surname}", "Details", "Employees", new { id = emp.ID })
         </li>       
        }
    }
    else
    {
        <h3>No Employees in that department!</h3>
    }
</ul>

@*<h2>TO DO: mployees from Model Relation</h2>*@

@*requires the ViewModel Department.Employees object to be initialized with EmployeeDTO objects (in DepartmentDTO constructor) *@
@*DepartmentDetails controller eager loads the Employees (include), who then need to be passed to the DepartmentDTO as EmployeeDTO objects *@
@*<ul>
    <li>
        @foreach (var emp in Model.Department.Employees)
        {
            @Html.ActionLink($"{emp.Name} {emp.Surname}", "Details", "Employees", new { id = emp.ID })
        }
    </li>
</ul>*@